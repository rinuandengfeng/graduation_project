# 获取畅销书的 2023 年的数据 目前只有 1-10 月。

## 图书畅销榜 URL

```python
    # 最近7天的畅销地址
    url = "https://bang.dangdang.com/books/bestsellers/01.00.00.00.00.00-recent7-0-0-1-" + \
        str(page)


    # 2023 年1月图书畅销榜的url
    url = "http://bang.dangdang.com/books/bestsellers/01.00.00.00.00.00-month-2023-1-1-1"


```

### 杂记

## 使用的模块

## TODO

- [x] 添加日志功能
- [x] 一次获取 2023 年各个月份的数据
- [ ] 稳定获取书的类型 1 类型 2 预计需要登录
- [ ] 创建数据库，并将数据写入到数据库中
- [ ] 进行数据分析，并写入到数据库中
- [ ] 尽量使用可视化大屏的方式进行展示

## 数据清洗方面

1. 清洗爬下来的图书的名，只要图书名，不要后面显示的信息。
2. 处理作者信息中的乱码问题

## 分析方面

1. 可以畅销榜的出版社
2. 分析畅销书中的作者
3. 分析畅销书中的

## 存在问题 没有想到解决方案

- [ ] 获取图书类型时，需要登录账号，登录账号好像爬取也会强制下线。

- [x] 获取 2023 年每个月的畅销榜数据，每个月只能获取 260 条 检查发现，只是重复获取第一页的数据，然后将这一页的数据获取后写入到
      进去 **该问题已解决** 因为 url 的路径参数拼接有问题

## 数据库

- book 表
  - id 主键
  - book_name 书名
  - author 作者
  - press 出版社
  - img_path 图片地址
  - price_original 原价
  - price_discount 打折价格
  - discount 折扣
  - recommend 推荐指数
  - datetime 时间
  - num 排行号
